%!PS-Adobe-1.0
%%
%% Xiang Qi board
%% for printing on legal-sized paper (8.5" x 14")
%% Copyright 2000 Randy Cox
%% http://www.cox-tv.com/games
%%

%%BeginSetup
%%BeginFeature: *PageSize Legal
	<< /PageSize [612 1008] >> setpagedevice
%%EndFeature
%%EndSetup

3 setlinewidth
0.0 setgray

/I {72 mul} bind def	% translate from inches to PostScript units

/PH 14 I def		% Page Height
/PW 8.5 I def		% Page Width

/BSP {1.5 I mul} bind def	% Board Spacing
/VHP PH 2 div def		% Vertical Half-Page
/RM 1 BSP 2 div def		% Right Margin

/drawlocator {
	4 {
	-0.3 BSP .05 BSP rmoveto
	0.25 BSP 0 rlineto
	0 0.25 BSP rlineto
	.05 BSP -0.3 BSP rmoveto
	90 rotate
	} repeat
} def

gsave % save the default clipping region

% Create clipping region for board (so edge locators are correct)
newpath
PW RM sub 4 BSP sub 3 sub VHP 4 BSP add 3 add moveto
5 BSP 0 rlineto
0 -8 BSP 6 sub rlineto
-5 BSP 0 rlineto
closepath
clip


% the board

% Draw Outline
newpath
PW RM sub VHP 4 BSP add moveto
-4 BSP 0 rlineto
0 -8 BSP rlineto
4 BSP 0 rlineto
closepath
stroke

newpath	
% Draw horizontal lines
PW RM sub 4 BSP sub VHP 3 BSP add moveto
7{
	4 BSP 0 rlineto
	-4 BSP -1 BSP rmoveto
} repeat

% Draw vertical lines
PW RM sub 3 BSP sub VHP 4 BSP add moveto
3{
	0 -8 BSP rlineto
	1 BSP 8 BSP rmoveto
} repeat

% Draw palace
PW RM sub 4 BSP sub VHP 1 BSP add moveto
2 BSP -2 BSP rlineto
-2 BSP 0 rmoveto
2 BSP 2 BSP rlineto

stroke

% Draw locators
PW RM sub 1 BSP sub VHP 4 BSP add moveto
5{
	drawlocator
	0 -2 BSP rmoveto
} repeat
PW RM sub 2 BSP sub VHP 3 BSP add moveto
drawlocator
0 -6 BSP rmoveto
drawlocator

0.3 setgray
stroke

grestore % restore the default clipping region

% Draw decorative border
newpath % inner decorations
PW RM sub 1 BSP add 1 add VHP 4 BSP add 9 add moveto
-5 BSP 1 sub 9 sub 0 rlineto
0 -8 BSP 18 sub rlineto
5 BSP 18 add 0 rlineto
gsave
	0.0 setgray
	11 setlinewidth stroke
grestore
gsave
	1.0 setgray
	9 setlinewidth stroke
grestore

gsave
	0.3 setgray
	[3 7] 1 setdash
	3 setlinewidth stroke
grestore
gsave
	0.6 setgray
	[1 9] 5 setdash
	9 setlinewidth stroke
grestore

% Text
/FG {
gsave
	0.7 setgray
	fill
grestore
1 setlinewidth stroke
} def

gsave
newpath
0.5 I VHP 4 BSP add 13 add moveto
-90 rotate
/Helvetica-Bold findfont 60 scalefont setfont
(X) false charpath FG
grestore

gsave
newpath
0.5 I VHP 4 BSP add 28 sub moveto
-90 rotate
/Helvetica-Bold findfont 55 scalefont setfont
(IANG) false charpath FG
grestore

gsave
newpath
0.5 I VHP 4 BSP add 180 sub moveto
-90 rotate
/Helvetica-Bold findfont 60 scalefont setfont
(Q) false charpath FG
grestore

gsave
newpath
0.5 I VHP 4 BSP add 227 sub moveto
-90 rotate
/Helvetica-Bold findfont 55 scalefont setfont
(I) false charpath FG
grestore

gsave
newpath
0.5 I VHP 267 sub moveto
-90 rotate
/Helvetica-Oblique findfont 17 scalefont setfont
(www.cox-tv.com/games) show
grestore

showpage